#!/bin/bash
# Blue-Green Deployment Script

echo "ğŸš€ Applying Blue Deployment..."
kubectl apply -f blue_deployment.yaml

echo "ğŸŸ¢ Applying Green Deployment..."
kubectl apply -f green_deployment.yaml

echo "ğŸ“¦ Verifying Deployments..."
kubectl get deployments

echo "ğŸ” Checking Pods..."
kubectl get pods -l app=django

echo "ğŸ“œ Checking logs for Green Deployment..."
GREEN_POD=$(kubectl get pods -l version=green -o jsonpath="{.items[0].metadata.name}")
kubectl logs $GREEN_POD

echo "âœ… If logs look good, switch service traffic to green version."
echo "Use: kubectl apply -f kubeservice.yaml (after changing version: green)"
